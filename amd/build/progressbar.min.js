function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}define ("block_completion_progress/progressbar",["exports","core_table/dynamic","jquery"],function(a,b,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=e(b);c=function(a){return a&&a.__esModule?a:{default:a}}(c);function d(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;d=function(){return a};return a}function e(a){if(a&&a.__esModule){return a}if(null===a||"object"!==_typeof(a)&&"function"!=typeof a){return{default:a}}var b=d();if(b&&b.has(a)){return b.get(a)}var c={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a){if(Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;if(g&&(g.get||g.set)){Object.defineProperty(c,f,g)}else{c[f]=a[f]}}}c.default=a;if(b){b.set(a,c)}return c}function f(a){var b=(0,c.default)(this),d=b.closest(".block_completion_progress .barContainer"),e=d.siblings(".progressEventInfo:visible"),f=d.siblings("#"+b.data("infoRef"));if(!e.is(f)){e.hide();f.show()}a.preventDefault()}function g(a){var b=(0,c.default)(this).closest(".progressEventInfo");b.siblings(".progressEventInfo").show();b.hide();a.preventDefault()}function h(){var a=(0,c.default)(this),b=a.closest(".block_completion_progress .barContainer"),d=b.siblings("#"+a.data("infoRef")),e=d.find("a.action_link");document.location=e.prop("href")}function i(a){var b=(0,c.default)(this).closest(".block_completion_progress .barContainer").find(".barRow"),d=.15*(a.data*b.prop("scrollWidth"));b.prop("scrollLeft",b.prop("scrollLeft")+d);a.preventDefault()}function j(){var a=(0,c.default)(this),b=a.closest(".block_completion_progress .barContainer"),d=b.find(".left-arrow-svg"),e=b.find(".right-arrow-svg"),f=a.prop("scrollLeft"),g=a.prop("scrollWidth")-a.prop("offsetWidth");if("rtl"===document.dir){f=-f;if(f>10){e.css("display","block")}else{e.css("display","none")}if(g>10&&f<g-10){d.css("display","block")}else{d.css("display","none")}}else{if(f>10){d.css("display","block")}else{d.css("display","none")}if(g>10&&f<g-10){e.css("display","block")}else{e.css("display","none")}}}function k(a){var b=a.find(".barRow");(0,c.default)(function(){var d=a.find(".nowicon");d.each(function(){var a=(0,c.default)(this),b=a.closest(".block_completion_progress .barRow");b.prop("scrollLeft",0);b.prop("scrollLeft",a.offset().left-b.offset().left-b.width()/2)});b.each(j)});a.on("click",".left-arrow-svg",-1,i);a.on("click",".right-arrow-svg",1,i);b.on("scroll",j);(0,c.default)(window).resize(function(){b.each(j)})}function l(a){var b=(0,c.default)(".block_completion_progress .barContainer[data-instanceid=\""+a+"\"]");b.on("touchstart mouseover",".progressBarCell",f);b.on("click",".progressBarCell[data-haslink=true]",h);b.siblings(".progressEventInfo").find(".progressShowAllInfo").click(g);k(b)}function m(a){for(var b=a.length-1;0<=b;b--){l(a[b])}}var n=function(a,c){if(c){var d={bulkActionSelect:"#formactionid",bulkUserSelectedCheckBoxes:"input[data-togglegroup='participants-table'][data-toggle='slave']:checked",checkCountButton:"#checkall",showCountText:"[data-region=\"participant-count\"]",showCountToggle:"[data-action=\"showcount\"]",stateHelpIcon:"[data-region=\"state-help-icon\"]",tableForm:function tableForm(a){return"form[data-table-unique-id=\"".concat(a,"\"]")}},e=document.querySelector(d.tableForm(c));m(a);e.addEventListener(b.Events.tableContentRefreshed,function(){m(a)},!1)}else{m(a)}};a.init=n});
//# sourceMappingURL=progressbar.min.js.map
